<mat-card>
  <mat-card-subtitle>Storage Size</mat-card-subtitle>
  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="5%" fxLayoutAlign="space-between" *ngIf="graphData">
    <div fxFlex="100%">
      <div *ngIf="doughnutChartData" class="chart-wrapper">
        <canvas baseChart
                [data]="doughnutChartData"
                [labels]="doughnutChartLabels"
                [chartType]="doughnutChartType"
                [legend]="doughnutChartLegend">
        </canvas>
      </div>
      <div *ngIf="!doughnutChartData"><mat-spinner></mat-spinner></div>
    </div>
  </div>

  <div fxLayout="row" fxLayoutGap="5%" fxLayoutAlign="space-between" *ngIf="graphData">
    <div fxFlex="100%">
      <div fxLayout="row" >
        <div fxFlex="60%" class="text-truncate"><strong>Storage Name</strong></div>
        <div fxFlex="20%" class="text-truncate float-right"><strong>Provider</strong></div>
        <div fxFlex="20%" class="text-truncate float-right"><strong>Size</strong></div>
      </div>
    </div>
  </div>

  <div fxLayout="row" fxLayoutGap="5%" fxLayoutAlign="space-between" *ngIf="graphData">
    <div fxFlex="100%">
      <div fxLayout="row" *ngFor="let bucket of getPagedBuckets()">
        <div fxFlex="60%" class="text-truncate">{{bucket._id.providerBucket}}</div>
        <div fxFlex="20%" class="text-truncate">{{bucket._id.provider}}</div>
        <div fxFlex="20%" class="text-truncate float-right">{{getFileSize(bucket.size)|number:'1.1-1'}} {{getFileUnits(bucket.size)}}</div>
      </div>
    </div>
  </div>

  <div *ngIf="graphData && graphData.length>0">
    <mat-card class="list-paginator">
      <mat-paginator [length]="itemsFound"
                     [pageSize]="pageSize"
                     [pageSizeOptions]="pageSizeOptions"
                     (page)="pageChange($event)">
      </mat-paginator>
    </mat-card>
  </div>
</mat-card>
